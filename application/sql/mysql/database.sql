--
-- Table structure for table `activities`
--

CREATE TABLE IF NOT EXISTS `activities` (
  `id` int(11) NOT NULL auto_increment,
  `user_id` int(11) default NULL,
  `type` varchar(31) NOT NULL,
  `text` text NOT NULL,
  `uri` varchar(255) NULL,
  `request_data` text,
  `date` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`id`),
  KEY `fk_user_id` (`user_id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 ;

--
-- Table structure for table `assets`
--

CREATE TABLE IF NOT EXISTS `assets` (
  `id` int(11) NOT NULL auto_increment,
  `user_id` int(11) NOT NULL,
  `mimetype_id` int(11) NOT NULL,
  `title` varchar(255) NOT NULL,
  `description` text NOT NULL,
  `filesize` int(11) NOT NULL,
  `filename` varchar(255) NOT NULL,
  `date` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`id`),
  KEY `fk_user_id` (`user_id`),
  KEY `fk_mimetype_id` (`mimetype_id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 ;

--
-- Table structure for table `assets_sizes`
--

CREATE TABLE IF NOT EXISTS `assets_sizes` (
  `id` int(11) NOT NULL auto_increment,
  `asset_id` int(11) NOT NULL,
  `width` int(11) NOT NULL,
  `height` int(11) NOT NULL,
  `crop` int(1) NOT NULL,
  `filesize` int(11) NOT NULL,
  `filename` varchar(255) NOT NULL,
  `date` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 ;


--
-- Table structure for table `config`
--

CREATE TABLE IF NOT EXISTS `config` (
  `id` int(11) NOT NULL auto_increment,
  `group_name` varchar(32) NOT NULL,
  `config_key` varchar(32) NOT NULL,
  `label` varchar(64) NOT NULL,
  `config_value` text,
  `default` text,
  `rules` text,
  `field_type` varchar(255) NOT NULL default 'text',
  `date` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `group` (`group_name`,`config_key`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 ;

--
-- Table structure for table `groups`
--

CREATE TABLE IF NOT EXISTS `groups` (
  `id` int(11) unsigned NOT NULL auto_increment,
  `parent_id` int(11) NOT NULL,
  `name` varchar(32) NOT NULL,
  `description` varchar(255) NOT NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `uniq_name` (`name`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 ;


--
-- Table structure for table `groups_users`
--

CREATE TABLE IF NOT EXISTS `groups_users` (
  `user_id` int(10) unsigned NOT NULL,
  `group_id` int(10) unsigned NOT NULL,
  PRIMARY KEY  (`user_id`,`group_id`),
  KEY `fk_group_id` (`group_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


--
-- Table structure for table `mimetypes`
--

CREATE TABLE IF NOT EXISTS `mimetypes` (
  `id` int(11) NOT NULL auto_increment,
  `subtype` varchar(120) NOT NULL,
  `type` varchar(120) NOT NULL,
  `extension` varchar(6) NOT NULL,
  `date` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `type` (`subtype`,`type`,`extension`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 ;

--
-- Dumping data for table `mimetypes`
--

INSERT INTO `mimetypes` (`id`, `subtype`, `type`, `extension`, `date`) VALUES
(1, 'application', 'andrew-inset', 'ez', '2010-12-28 12:56:30'),
(2, 'application', 'annodex', 'anx', '2010-12-28 12:56:30'),
(3, 'application', 'atom+xml', 'atom', '2010-12-28 12:56:30'),
(4, 'application', 'atomcat+xml', 'atomca', '2010-12-28 12:56:30'),
(5, 'application', 'atomserv+xml', 'atomsr', '2010-12-28 12:56:30'),
(6, 'application', 'bbolin', 'lin', '2010-12-28 12:56:30'),
(7, 'application', 'cap', 'cap', '2010-12-28 12:56:30'),
(8, 'application', 'cap', 'pcap', '2010-12-28 12:56:30'),
(9, 'application', 'cu-seeme', 'cu', '2010-12-28 12:56:30'),
(10, 'application', 'davmount+xml', 'davmou', '2010-12-28 12:56:30'),
(11, 'application', 'dsptype', 'tsp', '2010-12-28 12:56:30'),
(12, 'application', 'ecmascript', 'es', '2010-12-28 12:56:30'),
(13, 'application', 'futuresplash', 'spl', '2010-12-28 12:56:30'),
(14, 'application', 'hta', 'hta', '2010-12-28 12:56:30'),
(15, 'application', 'java-archive', 'jar', '2010-12-28 12:56:30'),
(16, 'application', 'java-serialized-object', 'ser', '2010-12-28 12:56:30'),
(17, 'application', 'java-vm', 'class', '2010-12-28 12:56:30'),
(18, 'application', 'javascript', 'js', '2010-12-28 12:56:30'),
(19, 'application', 'm3g', 'm3g', '2010-12-28 12:56:30'),
(20, 'application', 'mac-binhex40', 'hqx', '2010-12-28 12:56:30'),
(21, 'application', 'mac-compactpro', 'cpt', '2010-12-28 12:56:30'),
(22, 'application', 'mathematica', 'nb', '2010-12-28 12:56:30'),
(23, 'application', 'mathematica', 'nbp', '2010-12-28 12:56:30'),
(24, 'application', 'msaccess', 'mdb', '2010-12-28 12:56:30'),
(25, 'application', 'msword', 'doc', '2010-12-28 12:56:30'),
(26, 'application', 'msword', 'dot', '2010-12-28 12:56:30'),
(27, 'application', 'octet-stream', 'bin', '2010-12-28 12:56:30'),
(28, 'application', 'oda', 'oda', '2010-12-28 12:56:30'),
(29, 'application', 'ogg', 'ogx', '2010-12-28 12:56:30'),
(30, 'application', 'pdf', 'pdf', '2010-12-28 12:56:30'),
(31, 'application', 'pgp-keys', 'key', '2010-12-28 12:56:30'),
(32, 'application', 'pgp-signature', 'pgp', '2010-12-28 12:56:30'),
(33, 'application', 'pics-rules', 'prf', '2010-12-28 12:56:30'),
(34, 'application', 'postscript', 'ps', '2010-12-28 12:56:30'),
(35, 'application', 'postscript', 'ai', '2010-12-28 12:56:30'),
(36, 'application', 'postscript', 'eps', '2010-12-28 12:56:30'),
(37, 'application', 'postscript', 'espi', '2010-12-28 12:56:30'),
(38, 'application', 'postscript', 'epsf', '2010-12-28 12:56:30'),
(39, 'application', 'postscript', 'eps2', '2010-12-28 12:56:30'),
(40, 'application', 'postscript', 'eps3', '2010-12-28 12:56:30'),
(41, 'application', 'rar', 'rar', '2010-12-28 12:56:30'),
(42, 'application', 'rdf+xml', 'rdf', '2010-12-28 12:56:30'),
(43, 'application', 'rss+xml', 'rss', '2010-12-28 12:56:30'),
(44, 'application', 'rtf', 'rtf', '2010-12-28 12:56:30'),
(45, 'application', 'smil', 'smi', '2010-12-28 12:56:30'),
(46, 'application', 'smil', 'smil', '2010-12-28 12:56:30'),
(47, 'application', 'xhtml+xml', 'xhtml', '2010-12-28 12:56:30'),
(48, 'application', 'xhtml+xml', 'xht', '2010-12-28 12:56:30'),
(49, 'application', 'xml', 'xml', '2010-12-28 12:56:30'),
(50, 'application', 'xml', 'xsl', '2010-12-28 12:56:30'),
(51, 'application', 'xml', 'xsd', '2010-12-28 12:56:30'),
(52, 'application', 'xspf+xml', 'xspf', '2010-12-28 12:56:30'),
(53, 'application', 'zip', 'zip', '2010-12-28 12:56:30'),
(54, 'application', 'vnd.cinderella', 'cdy', '2010-12-28 12:56:30'),
(55, 'application', 'vnd.google-earth.kml+xml', 'kml', '2010-12-28 12:56:30'),
(56, 'application', 'vnd.google-earth.kmz', 'kmz', '2010-12-28 12:56:30'),
(57, 'application', 'vnd.mozilla.xul+xml', 'xul', '2010-12-28 12:56:30'),
(58, 'application', 'vnd.ms-excel', 'xls', '2010-12-28 12:56:30'),
(59, 'application', 'vnd.ms-excel', 'xlb', '2010-12-28 12:56:30'),
(60, 'application', 'vnd.ms-excel', 'xlt', '2010-12-28 12:56:30'),
(61, 'application', 'vnd.ms-pki.seccat', 'cat', '2010-12-28 12:56:30'),
(62, 'application', 'vnd.ms-pki.stl', 'stl', '2010-12-28 12:56:30'),
(63, 'application', 'vnd.ms-powerpoint', 'ppt', '2010-12-28 12:56:30'),
(64, 'application', 'vnd.ms-powerpoint', 'pps', '2010-12-28 12:56:30'),
(65, 'application', 'vnd.oasis.opendocument.chart', 'odc', '2010-12-28 12:56:30'),
(66, 'application', 'vnd.oasis.opendocument.database', 'odb', '2010-12-28 12:56:30'),
(67, 'application', 'vnd.oasis.opendocument.formula', 'odf', '2010-12-28 12:56:30'),
(68, 'application', 'vnd.oasis.opendocument.graphics', 'odg', '2010-12-28 12:56:30'),
(69, 'application', 'vnd.oasis.opendocument.graphics-template', 'otg', '2010-12-28 12:56:30'),
(70, 'application', 'vnd.oasis.opendocument.image', 'odi', '2010-12-28 12:56:30'),
(71, 'application', 'vnd.oasis.opendocument.presentation', 'odp', '2010-12-28 12:56:30'),
(72, 'application', 'vnd.oasis.opendocument.presentation-template', 'otp', '2010-12-28 12:56:30'),
(73, 'application', 'vnd.oasis.opendocument.spreadsheet', 'ods', '2010-12-28 12:56:30'),
(74, 'application', 'vnd.oasis.opendocument.spreadsheet-template', 'ots', '2010-12-28 12:56:30'),
(75, 'application', 'vnd.oasis.opendocument.text', 'odt', '2010-12-28 12:56:30'),
(76, 'application', 'vnd.oasis.opendocument.text-master', 'odm', '2010-12-28 12:56:30'),
(77, 'application', 'vnd.oasis.opendocument.text-template', 'ott', '2010-12-28 12:56:30'),
(78, 'application', 'vnd.oasis.opendocument.text-web', 'oth', '2010-12-28 12:56:30'),
(79, 'application', 'vnd.rim.cod', 'cod', '2010-12-28 12:56:30'),
(80, 'application', 'vnd.smaf', 'mmf', '2010-12-28 12:56:30'),
(81, 'application', 'vnd.stardivision.calc', 'sdc', '2010-12-28 12:56:30'),
(82, 'application', 'vnd.stardivision.chart', 'sds', '2010-12-28 12:56:30'),
(83, 'application', 'vnd.stardivision.draw', 'sda', '2010-12-28 12:56:30'),
(84, 'application', 'vnd.stardivision.impress', 'sdd', '2010-12-28 12:56:30'),
(85, 'application', 'vnd.stardivision.math', 'sdf', '2010-12-28 12:56:30'),
(86, 'application', 'vnd.stardivision.writer', 'sdw', '2010-12-28 12:56:30'),
(87, 'application', 'vnd.stardivision.writer-global', 'sgl', '2010-12-28 12:56:30'),
(88, 'application', 'vnd.sun.xml.calc', 'sxc', '2010-12-28 12:56:30'),
(89, 'application', 'vnd.sun.xml.calc.template', 'stc', '2010-12-28 12:56:30'),
(90, 'application', 'vnd.sun.xml.draw', 'sxd', '2010-12-28 12:56:30'),
(91, 'application', 'vnd.sun.xml.draw.template', 'std', '2010-12-28 12:56:30'),
(92, 'application', 'vnd.sun.xml.impress', 'sxi', '2010-12-28 12:56:30'),
(93, 'application', 'vnd.sun.xml.impress.template', 'sti', '2010-12-28 12:56:30'),
(94, 'application', 'vnd.sun.xml.math', 'sxm', '2010-12-28 12:56:30'),
(95, 'application', 'vnd.sun.xml.writer', 'sxw', '2010-12-28 12:56:30'),
(96, 'application', 'vnd.sun.xml.writer.global', 'sxg', '2010-12-28 12:56:30'),
(97, 'application', 'vnd.sun.xml.writer.template', 'stw', '2010-12-28 12:56:30'),
(98, 'application', 'vnd.symbian.install', 'sis', '2010-12-28 12:56:30'),
(99, 'application', 'vnd.visio', 'vsd', '2010-12-28 12:56:30'),
(100, 'application', 'vnd.wap.wbxml', 'wbxml', '2010-12-28 12:56:30'),
(101, 'application', 'vnd.wap.wmlc', 'wmlc', '2010-12-28 12:56:30'),
(102, 'application', 'vnd.wap.wmlscriptc', 'wmlsc', '2010-12-28 12:56:30'),
(103, 'application', 'vnd.wordperfect', 'wpd', '2010-12-28 12:56:30'),
(104, 'application', 'vnd.wordperfect5.1', 'wp5', '2010-12-28 12:56:30'),
(105, 'application', 'x-123', 'wk', '2010-12-28 12:56:30'),
(106, 'application', 'x-7z-compressed', '7z', '2010-12-28 12:56:30'),
(107, 'application', 'x-abiword', 'abw', '2010-12-28 12:56:30'),
(108, 'application', 'x-apple-diskimage', 'dmg', '2010-12-28 12:56:30'),
(109, 'application', 'x-bcpio', 'bcpio', '2010-12-28 12:56:30'),
(110, 'application', 'x-bittorrent', 'torren', '2010-12-28 12:56:30'),
(111, 'application', 'x-cab', 'cab', '2010-12-28 12:56:30'),
(112, 'application', 'x-cbr', 'cbr', '2010-12-28 12:56:30'),
(113, 'application', 'x-cbz', 'cbz', '2010-12-28 12:56:30'),
(114, 'application', 'x-cdf', 'cdf', '2010-12-28 12:56:30'),
(115, 'application', 'x-cdf', 'cda', '2010-12-28 12:56:30'),
(116, 'application', 'x-cdlink', 'vcd', '2010-12-28 12:56:30'),
(117, 'application', 'x-chess-pgn', 'pgn', '2010-12-28 12:56:30'),
(118, 'application', 'x-cpio', 'cpio', '2010-12-28 12:56:30'),
(119, 'application', 'x-csh', 'csh', '2010-12-28 12:56:30'),
(120, 'application', 'x-debian-package', 'deb', '2010-12-28 12:56:30'),
(121, 'application', 'x-debian-package', 'udeb', '2010-12-28 12:56:30'),
(122, 'application', 'x-director', 'dcr', '2010-12-28 12:56:30'),
(123, 'application', 'x-director', 'dir', '2010-12-28 12:56:30'),
(124, 'application', 'x-director', 'dxr', '2010-12-28 12:56:30'),
(125, 'application', 'x-dms', 'dms', '2010-12-28 12:56:30'),
(126, 'application', 'x-doom', 'wad', '2010-12-28 12:56:30'),
(127, 'application', 'x-dvi', 'dvi', '2010-12-28 12:56:30'),
(128, 'application', 'x-httpd-eruby', 'rhtml', '2010-12-28 12:56:30'),
(129, 'application', 'x-font', 'pfa', '2010-12-28 12:56:30'),
(130, 'application', 'x-font', 'pfb', '2010-12-28 12:56:30'),
(131, 'application', 'x-font', 'gsf', '2010-12-28 12:56:30'),
(132, 'application', 'x-font', 'pcf', '2010-12-28 12:56:30'),
(133, 'application', 'x-font', 'pcf.Z', '2010-12-28 12:56:30'),
(134, 'application', 'x-freemind', 'mm', '2010-12-28 12:56:30'),
(135, 'application', 'x-futuresplash', 'spl', '2010-12-28 12:56:30'),
(136, 'application', 'x-gnumeric', 'gnumer', '2010-12-28 12:56:30'),
(137, 'application', 'x-go-sgf', 'sgf', '2010-12-28 12:56:30'),
(138, 'application', 'x-graphing-calculator', 'gcf', '2010-12-28 12:56:30'),
(139, 'application', 'x-gtar', 'gtar', '2010-12-28 12:56:30'),
(140, 'application', 'x-gtar', 'tgz', '2010-12-28 12:56:30'),
(141, 'application', 'x-gtar', 'taz', '2010-12-28 12:56:30'),
(142, 'application', 'x-hdf', 'hdf', '2010-12-28 12:56:30'),
(143, 'application', 'x-httpd-php', 'phtml', '2010-12-28 12:56:30'),
(144, 'application', 'x-httpd-php', 'pht', '2010-12-28 12:56:30'),
(145, 'application', 'x-httpd-php', 'php', '2010-12-28 12:56:30'),
(146, 'application', 'x-httpd-php-source', 'phps', '2010-12-28 12:56:30'),
(147, 'application', 'x-httpd-php3', 'php3', '2010-12-28 12:56:30'),
(148, 'application', 'x-httpd-php3-preprocessed', 'php3p', '2010-12-28 12:56:30'),
(149, 'application', 'x-httpd-php4', 'php4', '2010-12-28 12:56:30'),
(150, 'application', 'x-ica', 'ica', '2010-12-28 12:56:30'),
(151, 'application', 'x-info', 'info', '2010-12-28 12:56:30'),
(152, 'application', 'x-internet-signup', 'ins', '2010-12-28 12:56:30'),
(153, 'application', 'x-internet-signup', 'isp', '2010-12-28 12:56:30'),
(154, 'application', 'x-iphone', 'iii', '2010-12-28 12:56:30'),
(155, 'application', 'x-iso9660-image', 'iso', '2010-12-28 12:56:30'),
(156, 'application', 'x-jam', 'jam', '2010-12-28 12:56:30'),
(157, 'application', 'x-java-jnlp-file', 'jnlp', '2010-12-28 12:56:30'),
(158, 'application', 'x-jmol', 'jmz', '2010-12-28 12:56:30'),
(159, 'application', 'x-kchart', 'chrt', '2010-12-28 12:56:30'),
(160, 'application', 'x-killustrator', 'kil', '2010-12-28 12:56:30'),
(161, 'application', 'x-koan', 'skp', '2010-12-28 12:56:30'),
(162, 'application', 'x-koan', 'skd', '2010-12-28 12:56:30'),
(163, 'application', 'x-koan', 'skt', '2010-12-28 12:56:30'),
(164, 'application', 'x-koan', 'skm', '2010-12-28 12:56:30'),
(165, 'application', 'x-kpresenter', 'kpr', '2010-12-28 12:56:30'),
(166, 'application', 'x-kpresenter', 'kpt', '2010-12-28 12:56:30'),
(167, 'application', 'x-kspread', 'ksp', '2010-12-28 12:56:30'),
(168, 'application', 'x-kword', 'kwd', '2010-12-28 12:56:30'),
(169, 'application', 'x-kword', 'kwt', '2010-12-28 12:56:30'),
(170, 'application', 'x-latex', 'latex', '2010-12-28 12:56:30'),
(171, 'application', 'x-lha', 'lha', '2010-12-28 12:56:30'),
(172, 'application', 'x-lyx', 'lyx', '2010-12-28 12:56:30'),
(173, 'application', 'x-lzh', 'lzh', '2010-12-28 12:56:30'),
(174, 'application', 'x-lzx', 'lzx', '2010-12-28 12:56:30'),
(175, 'application', 'x-maker', 'frm', '2010-12-28 12:56:30'),
(176, 'application', 'x-maker', 'maker', '2010-12-28 12:56:30'),
(177, 'application', 'x-maker', 'frame', '2010-12-28 12:56:30'),
(178, 'application', 'x-maker', 'fm', '2010-12-28 12:56:30'),
(179, 'application', 'x-maker', 'fb', '2010-12-28 12:56:30'),
(180, 'application', 'x-maker', 'book', '2010-12-28 12:56:30'),
(181, 'application', 'x-maker', 'fbdoc', '2010-12-28 12:56:30'),
(182, 'application', 'x-mif', 'mif', '2010-12-28 12:56:30'),
(183, 'application', 'x-ms-wmd', 'wmd', '2010-12-28 12:56:30'),
(184, 'application', 'x-ms-wmz', 'wmz', '2010-12-28 12:56:31'),
(185, 'application', 'x-msdos-program', 'com', '2010-12-28 12:56:31'),
(186, 'application', 'x-msdos-program', 'exe', '2010-12-28 12:56:31'),
(187, 'application', 'x-msdos-program', 'bat', '2010-12-28 12:56:31'),
(188, 'application', 'x-msdos-program', 'dll', '2010-12-28 12:56:31'),
(189, 'application', 'x-msi', 'msi', '2010-12-28 12:56:31'),
(190, 'application', 'x-netcdf', 'nc', '2010-12-28 12:56:31'),
(191, 'application', 'x-ns-proxy-autoconfig', 'pac', '2010-12-28 12:56:31'),
(192, 'application', 'x-ns-proxy-autoconfig', 'dat', '2010-12-28 12:56:31'),
(193, 'application', 'x-nwc', 'nwc', '2010-12-28 12:56:31'),
(194, 'application', 'x-object', 'o', '2010-12-28 12:56:31'),
(195, 'application', 'x-oz-application', 'oza', '2010-12-28 12:56:31'),
(196, 'application', 'x-pkcs7-certreqresp', 'p7r', '2010-12-28 12:56:31'),
(197, 'application', 'x-pkcs7-crl', 'crl', '2010-12-28 12:56:31'),
(198, 'application', 'x-python-code', 'pyc', '2010-12-28 12:56:31'),
(199, 'application', 'x-python-code', 'pyo', '2010-12-28 12:56:31'),
(200, 'application', 'x-qgis', 'qgs', '2010-12-28 12:56:31'),
(201, 'application', 'x-qgis', 'shp', '2010-12-28 12:56:31'),
(202, 'application', 'x-qgis', 'shx', '2010-12-28 12:56:31'),
(203, 'application', 'x-quicktimeplayer', 'qtl', '2010-12-28 12:56:31'),
(204, 'application', 'x-redhat-package-manager', 'rpm', '2010-12-28 12:56:31'),
(205, 'application', 'x-ruby', 'rb', '2010-12-28 12:56:31'),
(206, 'application', 'x-sh', 'sh', '2010-12-28 12:56:31'),
(207, 'application', 'x-shar', 'shar', '2010-12-28 12:56:31'),
(208, 'application', 'x-shockwave-flash', 'swf', '2010-12-28 12:56:31'),
(209, 'application', 'x-shockwave-flash', 'swfl', '2010-12-28 12:56:31'),
(210, 'application', 'x-stuffit', 'sit', '2010-12-28 12:56:31'),
(211, 'application', 'x-stuffit', 'sitx', '2010-12-28 12:56:31'),
(212, 'application', 'x-sv4cpio', 'sv4cpi', '2010-12-28 12:56:31'),
(213, 'application', 'x-sv4crc', 'sv4crc', '2010-12-28 12:56:31'),
(214, 'application', 'x-tar', 'tar', '2010-12-28 12:56:31'),
(215, 'application', 'x-tcl', 'tcl', '2010-12-28 12:56:31'),
(216, 'application', 'x-tex-gf', 'gf', '2010-12-28 12:56:31'),
(217, 'application', 'x-tex-pk', 'pk', '2010-12-28 12:56:31'),
(218, 'application', 'x-texinfo', 'texinf', '2010-12-28 12:56:31'),
(219, 'application', 'x-texinfo', 'texi', '2010-12-28 12:56:31'),
(220, 'application', 'x-trash', '~', '2010-12-28 12:56:31'),
(221, 'application', 'x-trash', '%', '2010-12-28 12:56:31'),
(222, 'application', 'x-trash', 'bak', '2010-12-28 12:56:31'),
(223, 'application', 'x-trash', 'old', '2010-12-28 12:56:31'),
(224, 'application', 'x-trash', 'sik', '2010-12-28 12:56:31'),
(225, 'application', 'x-troff', 't', '2010-12-28 12:56:31'),
(226, 'application', 'x-troff', 'tr', '2010-12-28 12:56:31'),
(227, 'application', 'x-troff', 'roff', '2010-12-28 12:56:31'),
(228, 'application', 'x-troff-man', 'man', '2010-12-28 12:56:31'),
(229, 'application', 'x-troff-me', 'me', '2010-12-28 12:56:31'),
(230, 'application', 'x-troff-ms', 'ms', '2010-12-28 12:56:31'),
(231, 'application', 'x-ustar', 'ustar', '2010-12-28 12:56:31'),
(232, 'application', 'x-wais-source', 'src', '2010-12-28 12:56:31'),
(233, 'application', 'x-wingz', 'wz', '2010-12-28 12:56:31'),
(234, 'application', 'x-x509-ca-cert', 'crt', '2010-12-28 12:56:31'),
(235, 'application', 'x-xcf', 'xcf', '2010-12-28 12:56:31'),
(236, 'application', 'x-xfig', 'fig', '2010-12-28 12:56:31'),
(237, 'application', 'x-xpinstall', 'xpi', '2010-12-28 12:56:31'),
(238, 'audio', 'amr', 'amr', '2010-12-28 12:56:31'),
(239, 'audio', 'amr-wb', 'awb', '2010-12-28 12:56:31'),
(240, 'audio', 'annodex', 'axa', '2010-12-28 12:56:31'),
(241, 'audio', 'basic', 'au', '2010-12-28 12:56:31'),
(242, 'audio', 'basic', 'snd', '2010-12-28 12:56:31'),
(243, 'audio', 'flac', 'flac', '2010-12-28 12:56:31'),
(244, 'audio', 'midi', 'mid', '2010-12-28 12:56:31'),
(245, 'audio', 'midi', 'midi', '2010-12-28 12:56:31'),
(246, 'audio', 'midi', 'kar', '2010-12-28 12:56:31'),
(247, 'audio', 'mpeg', 'mpga', '2010-12-28 12:56:31'),
(248, 'audio', 'mpeg', 'mpega', '2010-12-28 12:56:31'),
(249, 'audio', 'mpeg', 'mp2', '2010-12-28 12:56:31'),
(250, 'audio', 'mpeg', 'mp3', '2010-12-28 12:56:31'),
(251, 'audio', 'mpeg', 'm4a', '2010-12-28 12:56:31'),
(252, 'audio', 'mpegurl', 'm3u', '2010-12-28 12:56:31'),
(253, 'audio', 'ogg', 'oga', '2010-12-28 12:56:31'),
(254, 'audio', 'ogg', 'ogg', '2010-12-28 12:56:31'),
(255, 'audio', 'ogg', 'spx', '2010-12-28 12:56:31'),
(256, 'audio', 'prs.sid', 'sid', '2010-12-28 12:56:31'),
(257, 'audio', 'x-aiff', 'aif', '2010-12-28 12:56:31'),
(258, 'audio', 'x-aiff', 'aiff', '2010-12-28 12:56:31'),
(259, 'audio', 'x-aiff', 'aifc', '2010-12-28 12:56:31'),
(260, 'audio', 'x-gsm', 'gsm', '2010-12-28 12:56:31'),
(261, 'audio', 'x-mpegurl', 'm3u', '2010-12-28 12:56:31'),
(262, 'audio', 'x-ms-wma', 'wma', '2010-12-28 12:56:31'),
(263, 'audio', 'x-ms-wax', 'wax', '2010-12-28 12:56:31'),
(264, 'audio', 'x-pn-realaudio', 'ra', '2010-12-28 12:56:31'),
(265, 'audio', 'x-pn-realaudio', 'rm', '2010-12-28 12:56:31'),
(266, 'audio', 'x-pn-realaudio', 'ram', '2010-12-28 12:56:31'),
(267, 'audio', 'x-realaudio', 'ra', '2010-12-28 12:56:31'),
(268, 'audio', 'x-scpls', 'pls', '2010-12-28 12:56:31'),
(269, 'audio', 'x-sd2', 'sd2', '2010-12-28 12:56:31'),
(270, 'audio', 'x-wav', 'wav', '2010-12-28 12:56:31'),
(271, 'chemical', 'x-alchemy', 'alc', '2010-12-28 12:56:31'),
(272, 'chemical', 'x-cache', 'cac', '2010-12-28 12:56:31'),
(273, 'chemical', 'x-cache', 'cache', '2010-12-28 12:56:31'),
(274, 'chemical', 'x-cache-csf', 'csf', '2010-12-28 12:56:31'),
(275, 'chemical', 'x-cactvs-binary', 'cbin', '2010-12-28 12:56:31'),
(276, 'chemical', 'x-cactvs-binary', 'cascii', '2010-12-28 12:56:31'),
(277, 'chemical', 'x-cactvs-binary', 'ctab', '2010-12-28 12:56:31'),
(278, 'chemical', 'x-cdx', 'cdx', '2010-12-28 12:56:31'),
(279, 'chemical', 'x-cerius', 'cer', '2010-12-28 12:56:31'),
(280, 'chemical', 'x-chem3d', 'c3d', '2010-12-28 12:56:31'),
(281, 'chemical', 'x-chemdraw', 'chm', '2010-12-28 12:56:31'),
(282, 'chemical', 'x-cif', 'cif', '2010-12-28 12:56:31'),
(283, 'chemical', 'x-cmdf', 'cmdf', '2010-12-28 12:56:31'),
(284, 'chemical', 'x-cml', 'cml', '2010-12-28 12:56:31'),
(285, 'chemical', 'x-compass', 'cpa', '2010-12-28 12:56:31'),
(286, 'chemical', 'x-crossfire', 'bsd', '2010-12-28 12:56:31'),
(287, 'chemical', 'x-csml', 'csml', '2010-12-28 12:56:31'),
(288, 'chemical', 'x-csml', 'csm', '2010-12-28 12:56:31'),
(289, 'chemical', 'x-ctx', 'ctx', '2010-12-28 12:56:31'),
(290, 'chemical', 'x-cxf', 'cxf', '2010-12-28 12:56:31'),
(291, 'chemical', 'x-cxf', 'cef', '2010-12-28 12:56:31'),
(292, 'chemical', 'x-embl-dl-nucleotide', 'emb', '2010-12-28 12:56:31'),
(293, 'chemical', 'x-embl-dl-nucleotide', 'embl', '2010-12-28 12:56:31'),
(294, 'chemical', 'x-galactic-spc', 'spc', '2010-12-28 12:56:31'),
(295, 'chemical', 'x-gamess-input', 'inp', '2010-12-28 12:56:31'),
(296, 'chemical', 'x-gamess-input', 'gam', '2010-12-28 12:56:31'),
(297, 'chemical', 'x-gamess-input', 'gamin', '2010-12-28 12:56:31'),
(298, 'chemical', 'x-gaussian-checkpoint', 'fch', '2010-12-28 12:56:31'),
(299, 'chemical', 'x-gaussian-checkpoint', 'fchk', '2010-12-28 12:56:31'),
(300, 'chemical', 'x-gaussian-cube', 'cub', '2010-12-28 12:56:31'),
(301, 'chemical', 'x-gaussian-input', 'gau', '2010-12-28 12:56:31'),
(302, 'chemical', 'x-gaussian-input', 'gjc', '2010-12-28 12:56:31'),
(303, 'chemical', 'x-gaussian-input', 'gjf', '2010-12-28 12:56:31'),
(304, 'chemical', 'x-gaussian-log', 'gal', '2010-12-28 12:56:31'),
(305, 'chemical', 'x-gcg8-sequence', 'gcg', '2010-12-28 12:56:31'),
(306, 'chemical', 'x-genbank', 'gen', '2010-12-28 12:56:31'),
(307, 'chemical', 'x-hin', 'hin', '2010-12-28 12:56:31'),
(308, 'chemical', 'x-isostar', 'istr', '2010-12-28 12:56:31'),
(309, 'chemical', 'x-isostar', 'ist', '2010-12-28 12:56:31'),
(310, 'chemical', 'x-jcamp-dx', 'jdx', '2010-12-28 12:56:31'),
(311, 'chemical', 'x-jcamp-dx', 'dx', '2010-12-28 12:56:31'),
(312, 'chemical', 'x-kinemage', 'kin', '2010-12-28 12:56:31'),
(313, 'chemical', 'x-macmolecule', 'mcm', '2010-12-28 12:56:31'),
(314, 'chemical', 'x-macromodel-input', 'mmd', '2010-12-28 12:56:31'),
(315, 'chemical', 'x-macromodel-input', 'mmod', '2010-12-28 12:56:31'),
(316, 'chemical', 'x-mdl-molfile', 'mol', '2010-12-28 12:56:31'),
(317, 'chemical', 'x-mdl-rdfile', 'rd', '2010-12-28 12:56:31'),
(318, 'chemical', 'x-mdl-rxnfile', 'rxn', '2010-12-28 12:56:31'),
(319, 'chemical', 'x-mdl-sdfile', 'sd', '2010-12-28 12:56:31'),
(320, 'chemical', 'x-mdl-sdfile', 'sdf', '2010-12-28 12:56:31'),
(321, 'chemical', 'x-mdl-tgf', 'tgf', '2010-12-28 12:56:31'),
(322, 'chemical', 'x-mmcif', 'mcif', '2010-12-28 12:56:31'),
(323, 'chemical', 'x-mol2', 'mol2', '2010-12-28 12:56:31'),
(324, 'chemical', 'x-molconn-Z', 'b', '2010-12-28 12:56:31'),
(325, 'chemical', 'x-mopac-graph', 'gpt', '2010-12-28 12:56:31'),
(326, 'chemical', 'x-mopac-input', 'mop', '2010-12-28 12:56:31'),
(327, 'chemical', 'x-mopac-input', 'mopcrt', '2010-12-28 12:56:31'),
(328, 'chemical', 'x-mopac-input', 'mpc', '2010-12-28 12:56:31'),
(329, 'chemical', 'x-mopac-input', 'zmt', '2010-12-28 12:56:31'),
(330, 'chemical', 'x-mopac-out', 'moo', '2010-12-28 12:56:31'),
(331, 'chemical', 'x-mopac-vib', 'mvb', '2010-12-28 12:56:31'),
(332, 'chemical', 'x-ncbi-asn1', 'asn', '2010-12-28 12:56:31'),
(333, 'chemical', 'x-ncbi-asn1-ascii', 'prt', '2010-12-28 12:56:31'),
(334, 'chemical', 'x-ncbi-asn1-ascii', 'ent', '2010-12-28 12:56:31'),
(335, 'chemical', 'x-ncbi-asn1-binary', 'val', '2010-12-28 12:56:31'),
(336, 'chemical', 'x-ncbi-asn1-binary', 'aso', '2010-12-28 12:56:31'),
(337, 'chemical', 'x-ncbi-asn1-spec', 'asn', '2010-12-28 12:56:31'),
(338, 'chemical', 'x-pdb', 'pdb', '2010-12-28 12:56:31'),
(339, 'chemical', 'x-pdb', 'ent', '2010-12-28 12:56:31'),
(340, 'chemical', 'x-rosdal', 'ros', '2010-12-28 12:56:31'),
(341, 'chemical', 'x-swissprot', 'sw', '2010-12-28 12:56:31'),
(342, 'chemical', 'x-vamas-iso14976', 'vms', '2010-12-28 12:56:31'),
(343, 'chemical', 'x-vmd', 'vmd', '2010-12-28 12:56:31'),
(344, 'chemical', 'x-xtel', 'xtel', '2010-12-28 12:56:31'),
(345, 'chemical', 'x-xyz', 'xyz', '2010-12-28 12:56:31'),
(346, 'image', 'gif', 'gif', '2010-12-28 12:56:31'),
(347, 'image', 'ief', 'ief', '2010-12-28 12:56:31'),
(348, 'image', 'jpeg', 'jpeg', '2010-12-28 12:56:31'),
(349, 'image', 'jpeg', 'jpg', '2010-12-28 12:56:31'),
(350, 'image', 'jpeg', 'jpe', '2010-12-28 12:56:31'),
(351, 'image', 'pcx', 'pcx', '2010-12-28 12:56:31'),
(352, 'image', 'png', 'png', '2010-12-28 12:56:31'),
(353, 'image', 'svg+xml', 'svg', '2010-12-28 12:56:31'),
(354, 'image', 'svg+xml', 'svgz', '2010-12-28 12:56:31'),
(355, 'image', 'tiff', 'tiff', '2010-12-28 12:56:31'),
(356, 'image', 'tiff', 'tif', '2010-12-28 12:56:31'),
(357, 'image', 'vnd.djvu', 'djvu', '2010-12-28 12:56:31'),
(358, 'image', 'vnd.djvu', 'djv', '2010-12-28 12:56:31'),
(359, 'image', 'vnd.wap.wbmp', 'wbmp', '2010-12-28 12:56:31'),
(360, 'image', 'x-cmu-raster', 'ras', '2010-12-28 12:56:31'),
(361, 'image', 'x-coreldraw', 'cdr', '2010-12-28 12:56:31'),
(362, 'image', 'x-coreldrawpattern', 'pat', '2010-12-28 12:56:31'),
(363, 'image', 'x-coreldrawtemplate', 'cdt', '2010-12-28 12:56:31'),
(364, 'image', 'x-corelphotopaint', 'cpt', '2010-12-28 12:56:31'),
(365, 'image', 'x-icon', 'ico', '2010-12-28 12:56:31'),
(366, 'image', 'x-jg', 'art', '2010-12-28 12:56:31'),
(367, 'image', 'x-jng', 'jng', '2010-12-28 12:56:31'),
(368, 'image', 'x-ms-bmp', 'bmp', '2010-12-28 12:56:31'),
(369, 'image', 'x-photoshop', 'psd', '2010-12-28 12:56:31'),
(370, 'image', 'x-portable-anymap', 'pnm', '2010-12-28 12:56:31'),
(371, 'image', 'x-portable-bitmap', 'pbm', '2010-12-28 12:56:31'),
(372, 'image', 'x-portable-graymap', 'pgm', '2010-12-28 12:56:31'),
(373, 'image', 'x-portable-pixmap', 'ppm', '2010-12-28 12:56:31'),
(374, 'image', 'x-rgb', 'rgb', '2010-12-28 12:56:31'),
(375, 'image', 'x-xbitmap', 'xbm', '2010-12-28 12:56:31'),
(376, 'image', 'x-xpixmap', 'xpm', '2010-12-28 12:56:31'),
(377, 'image', 'x-xwindowdump', 'xwd', '2010-12-28 12:56:31'),
(378, 'message', 'rfc822', 'eml', '2010-12-28 12:56:31'),
(379, 'model', 'iges', 'igs', '2010-12-28 12:56:31'),
(380, 'model', 'iges', 'iges', '2010-12-28 12:56:31'),
(381, 'model', 'mesh', 'msh', '2010-12-28 12:56:31'),
(382, 'model', 'mesh', 'mesh', '2010-12-28 12:56:31'),
(383, 'model', 'mesh', 'silo', '2010-12-28 12:56:31'),
(384, 'model', 'vrml', 'wrl', '2010-12-28 12:56:31'),
(385, 'model', 'vrml', 'vrml', '2010-12-28 12:56:31'),
(386, 'text', 'calendar', 'ics', '2010-12-28 12:56:31'),
(387, 'text', 'calendar', 'icz', '2010-12-28 12:56:31'),
(388, 'text', 'css', 'css', '2010-12-28 12:56:31'),
(389, 'text', 'csv', 'csv', '2010-12-28 12:56:31'),
(390, 'text', 'h323', '323', '2010-12-28 12:56:31'),
(391, 'text', 'html', 'html', '2010-12-28 12:56:31'),
(392, 'text', 'html', 'htm', '2010-12-28 12:56:31'),
(393, 'text', 'html', 'shtml', '2010-12-28 12:56:31'),
(394, 'text', 'iuls', 'uls', '2010-12-28 12:56:31'),
(395, 'text', 'mathml', 'mml', '2010-12-28 12:56:31'),
(396, 'text', 'plain', 'asc', '2010-12-28 12:56:31'),
(397, 'text', 'plain', 'txt', '2010-12-28 12:56:31'),
(398, 'text', 'plain', 'text', '2010-12-28 12:56:31'),
(399, 'text', 'plain', 'pot', '2010-12-28 12:56:31'),
(400, 'text', 'plain', 'brf', '2010-12-28 12:56:31'),
(401, 'text', 'richtext', 'rtx', '2010-12-28 12:56:31'),
(402, 'text', 'scriptlet', 'sct', '2010-12-28 12:56:31'),
(403, 'text', 'scriptlet', 'wsc', '2010-12-28 12:56:31'),
(404, 'text', 'texmacs', 'tm', '2010-12-28 12:56:31'),
(405, 'text', 'texmacs', 'ts', '2010-12-28 12:56:31'),
(406, 'text', 'tab-separated-values', 'tsv', '2010-12-28 12:56:31'),
(407, 'text', 'vnd.sun.j2me.app-descriptor', 'jad', '2010-12-28 12:56:31'),
(408, 'text', 'vnd.wap.wml', 'wml', '2010-12-28 12:56:31'),
(409, 'text', 'vnd.wap.wmlscript', 'wmls', '2010-12-28 12:56:31'),
(410, 'text', 'x-bibtex', 'bib', '2010-12-28 12:56:31'),
(411, 'text', 'x-boo', 'boo', '2010-12-28 12:56:31'),
(412, 'text', 'x-c++hdr', 'h++', '2010-12-28 12:56:31'),
(413, 'text', 'x-c++hdr', 'hpp', '2010-12-28 12:56:31'),
(414, 'text', 'x-c++hdr', 'hxx', '2010-12-28 12:56:31'),
(415, 'text', 'x-c++hdr', 'hh', '2010-12-28 12:56:31'),
(416, 'text', 'x-c++src', 'c++', '2010-12-28 12:56:31'),
(417, 'text', 'x-c++src', 'cpp', '2010-12-28 12:56:31'),
(418, 'text', 'x-c++src', 'cxx', '2010-12-28 12:56:31'),
(419, 'text', 'x-c++src', 'cc', '2010-12-28 12:56:31'),
(420, 'text', 'x-chdr', 'h', '2010-12-28 12:56:31'),
(421, 'text', 'x-component', 'htc', '2010-12-28 12:56:31'),
(422, 'text', 'x-csh', 'csh', '2010-12-28 12:56:31'),
(423, 'text', 'x-csrc', 'c', '2010-12-28 12:56:31'),
(424, 'text', 'x-dsrc', 'd', '2010-12-28 12:56:31'),
(425, 'text', 'x-diff', 'diff', '2010-12-28 12:56:31'),
(426, 'text', 'x-diff', 'patch', '2010-12-28 12:56:31'),
(427, 'text', 'x-haskell', 'hs', '2010-12-28 12:56:31'),
(428, 'text', 'x-java', 'java', '2010-12-28 12:56:31'),
(429, 'text', 'x-literate-haskell', 'lhs', '2010-12-28 12:56:31'),
(430, 'text', 'x-moc', 'moc', '2010-12-28 12:56:31'),
(431, 'text', 'x-pascal', 'p', '2010-12-28 12:56:31'),
(432, 'text', 'x-pascal', 'pas', '2010-12-28 12:56:31'),
(433, 'text', 'x-pcs-gcd', 'gcd', '2010-12-28 12:56:31'),
(434, 'text', 'x-perl', 'pl', '2010-12-28 12:56:31'),
(435, 'text', 'x-perl', 'pm', '2010-12-28 12:56:31'),
(436, 'text', 'x-python', 'py', '2010-12-28 12:56:31'),
(437, 'text', 'x-scala', 'scala', '2010-12-28 12:56:31'),
(438, 'text', 'x-setext', 'etx', '2010-12-28 12:56:31'),
(439, 'text', 'x-sh', 'sh', '2010-12-28 12:56:31'),
(440, 'text', 'x-tcl', 'tcl', '2010-12-28 12:56:31'),
(441, 'text', 'x-tcl', 'tk', '2010-12-28 12:56:31'),
(442, 'text', 'x-tex', 'tex', '2010-12-28 12:56:31'),
(443, 'text', 'x-tex', 'ltx', '2010-12-28 12:56:31'),
(444, 'text', 'x-tex', 'sty', '2010-12-28 12:56:31'),
(445, 'text', 'x-tex', 'cls', '2010-12-28 12:56:31'),
(446, 'text', 'x-vcalendar', 'vcs', '2010-12-28 12:56:31'),
(447, 'text', 'x-vcard', 'vcf', '2010-12-28 12:56:31'),
(448, 'video', '3gpp', '3gp', '2010-12-28 12:56:31'),
(449, 'video', 'annodex', 'axv', '2010-12-28 12:56:31'),
(450, 'video', 'dl', 'dl', '2010-12-28 12:56:31'),
(451, 'video', 'dv', 'dif', '2010-12-28 12:56:31'),
(452, 'video', 'dv', 'dv', '2010-12-28 12:56:31'),
(453, 'video', 'fli', 'fli', '2010-12-28 12:56:31'),
(454, 'video', 'gl', 'gl', '2010-12-28 12:56:32'),
(455, 'video', 'mpeg', 'mpeg', '2010-12-28 12:56:32'),
(456, 'video', 'mpeg', 'mpg', '2010-12-28 12:56:32'),
(457, 'video', 'mpeg', 'mpe', '2010-12-28 12:56:32'),
(458, 'video', 'mp4', 'mp4', '2010-12-28 12:56:32'),
(459, 'video', 'quicktime', 'qt', '2010-12-28 12:56:32'),
(460, 'video', 'quicktime', 'mov', '2010-12-28 12:56:32'),
(461, 'video', 'ogg', 'ogv', '2010-12-28 12:56:32'),
(462, 'video', 'vnd.mpegurl', 'mxu', '2010-12-28 12:56:32'),
(463, 'video', 'x-flv', 'flv', '2010-12-28 12:56:32'),
(464, 'video', 'x-la-asf', 'lsf', '2010-12-28 12:56:32'),
(465, 'video', 'x-la-asf', 'lsx', '2010-12-28 12:56:32'),
(466, 'video', 'x-mng', 'mng', '2010-12-28 12:56:32'),
(467, 'video', 'x-ms-asf', 'asf', '2010-12-28 12:56:32'),
(468, 'video', 'x-ms-asf', 'asx', '2010-12-28 12:56:32'),
(469, 'video', 'x-ms-wm', 'wm', '2010-12-28 12:56:32'),
(470, 'video', 'x-ms-wmv', 'wmv', '2010-12-28 12:56:32'),
(471, 'video', 'x-ms-wmx', 'wmx', '2010-12-28 12:56:32'),
(472, 'video', 'x-ms-wvx', 'wvx', '2010-12-28 12:56:32'),
(473, 'video', 'x-msvideo', 'avi', '2010-12-28 12:56:32'),
(474, 'video', 'x-sgi-movie', 'movie', '2010-12-28 12:56:32'),
(475, 'video', 'x-matroska', 'mpv', '2010-12-28 12:56:32'),
(476, 'x-conference', 'x-cooltalk', 'ice', '2010-12-28 12:56:32'),
(477, 'x-epoc', 'x-sisx-app', 'sisx', '2010-12-28 12:56:32'),
(478, 'x-world', 'x-vrml', 'vrm', '2010-12-28 12:56:32'),
(479, 'x-world', 'x-vrml', 'vrml', '2010-12-28 12:56:32'),
(480, 'x-world', 'x-vrml', 'wrl', '2010-12-28 12:56:32');

-- --------------------------------------------------------

--
-- Table structure for table `pages`
--

CREATE TABLE IF NOT EXISTS `pages` (
  `id` int(11) NOT NULL auto_increment,
  `user_id` int(11) NOT NULL,
  `parent_id` int(11) NOT NULL,
  `title` varchar(128) NOT NULL,
  `uri` varchar(255) NOT NULL,
  `description` varchar(255) NOT NULL,
  `body` text NOT NULL,
  `visible_from` timestamp NULL default NULL,
  `visible_to` timestamp NULL default NULL,
  `date` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`id`),
  KEY `fk_user_id` (`user_id`),
  KEY `fk_page_id` (`parent_id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 ;

--
-- Table structure for table `roles`
--

CREATE TABLE IF NOT EXISTS `roles` (
  `id` int(11) unsigned NOT NULL auto_increment,
  `name` varchar(32) NOT NULL,
  `description` varchar(255) NOT NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `uniq_name` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ;


--
-- Table structure for table `roles_users`
--

CREATE TABLE IF NOT EXISTS `roles_users` (
  `user_id` int(10) unsigned NOT NULL,
  `role_id` int(10) unsigned NOT NULL,
  PRIMARY KEY  (`user_id`,`role_id`),
  KEY `fk_role_id` (`role_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE IF NOT EXISTS `users` (
  `id` int(11) unsigned NOT NULL auto_increment,
  `oauth_id` int(11) default NULL,
  `oauth_provider` varchar(32) default NULL,
  `openid_id` varchar(255) default NULL,
  `email` varchar(127) NOT NULL,
  `username` varchar(255) NOT NULL default '',
  `password` char(50) NOT NULL,
  `logins` int(10) unsigned NOT NULL default '0',
  `last_login` int(10) unsigned default NULL,
  `date` timestamp NOT NULL default CURRENT_TIMESTAMP,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `uniq_username` (`username`),
  UNIQUE KEY `uniq_email` (`email`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8  ;

--
-- Table structure for table `user_tokens`
--

CREATE TABLE IF NOT EXISTS `user_tokens` (
  `id` int(11) unsigned NOT NULL auto_increment,
  `user_id` int(11) unsigned NOT NULL,
  `user_agent` varchar(40) NOT NULL,
  `token` varchar(32) NOT NULL,
  `created` int(10) unsigned NOT NULL,
  `expires` int(10) unsigned NOT NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `uniq_token` (`token`),
  KEY `fk_user_id` (`user_id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 ;



--
-- Constraints for dumped tables
--

--
-- Constraints for table `groups_users`
--
ALTER TABLE `groups_users`
  ADD CONSTRAINT `groups_users_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `groups_users_ibfk_2` FOREIGN KEY (`group_id`) REFERENCES `groups` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `roles_users`
--
ALTER TABLE `roles_users`
  ADD CONSTRAINT `roles_users_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `roles_users_ibfk_2` FOREIGN KEY (`role_id`) REFERENCES `roles` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `user_tokens`
--
ALTER TABLE `user_tokens`
  ADD CONSTRAINT `user_tokens_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;
